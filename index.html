<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LuxuryStay Hotels</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/react-router-dom@6/dist/umd/react-router-dom.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lucide-react@0.263.1/dist/umd/lucide-react.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns@2.29.3/index.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/validator@13.11.0/validator.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#0ea5e9',
                        secondary: '#f97316',
                        dark: '#0f172a',
                        light: '#f8fafc'
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.5s ease-out'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' }
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        }
                    }
                }
            }
        }
    </script>
    <style type="text/css">
        .hero-bg {
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%230ea5e9"/><path d="M0 0L100 100" stroke="%23f8fafc" stroke-width="2"/><path d="M100 0L0 100" stroke="%23f8fafc" stroke-width="2"/></svg>');
            background-size: cover;
            background-position: center;
        }
        .room-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .room-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
        .input-field:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.3);
        }
        .page-transition {
            animation: fadeIn 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-light font-sans">
    <div id="root"></div>

    <script type="text/babel">
        // Import necessary functions from libraries
        const { useState, useEffect, createContext, useContext, useReducer } = React;
        const { BrowserRouter, Routes, Route, Link, useNavigate } = ReactRouterDOM;
        const { format, addDays, isAfter, isBefore, parseISO } = dateFns;
        const { isEmail, isLength } = validator;
        const { Home, User, Bed, Calendar, Phone, Mail, Facebook, Twitter, Instagram, Menu, X } = LucideReact;

        // Create App Context for state management
        const AppContext = createContext();

        // Initial state for the app
        const initialState = {
            user: null,
            isAuthenticated: false,
            bookingDetails: null,
            rooms: [
                {
                    id: 1,
                    type: 'Single Room',
                    description: 'Cozy and comfortable room with a single bed, perfect for solo travelers.',
                    price: 99,
                    image: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="300" height="200" viewBox="0 0 300 200"><rect width="300" height="200" fill="%23cbd5e1"/><rect x="50" y="50" width="80" height="100" fill="%2394a3b8" rx="5"/><rect x="150" y="70" width="60" height="60" fill="%23e2e8f0" rx="5"/><circle cx="180" cy="150" r="10" fill="%23e2e8f0"/></svg>',
                    amenities: ['Free WiFi', 'TV', 'Air Conditioning', 'Coffee Maker'],
                    available: true
                },
                {
                    id: 2,
                    type: 'Double Room',
                    description: 'Spacious room with a double bed, ideal for couples or small families.',
                    price: 149,
                    image: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="300" height="200" viewBox="0 0 300 200"><rect width="300" height="200" fill="%23cbd5e1"/><rect x="30" y="40" width="110" height="120" fill="%2394a3b8" rx="5"/><rect x="160" y="40" width="110" height="120" fill="%2394a3b8" rx="5"/><rect x="70" y="170" width="60" height="20" fill="%23e2e8f0" rx="5"/><rect x="170" y="170" width="60" height="20" fill="%23e2e8f0" rx="5"/></svg>',
                    amenities: ['Free WiFi', 'TV', 'Air Conditioning', 'Mini Bar', 'Safe'],
                    available: true
                },
                {
                    id: 3,
                    type: 'Suite',
                    description: 'Luxurious suite with separate living area, premium amenities and stunning views.',
                    price: 249,
                    image: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="300" height="200" viewBox="0 0 300 200"><rect width="300" height="200" fill="%23cbd5e1"/><rect x="20" y="30" width="120" height="140" fill="%2394a3b8" rx="5"/><rect x="160" y="30" width="120" height="70" fill="%2394a3b8" rx="5"/><rect x="160" y="110" width="120" height="60" fill="%23e2e8f0" rx="5"/><circle cx="220" cy="140" r="8" fill="%23cbd5e1"/></svg>',
                    amenities: ['Free WiFi', 'Smart TV', 'Air Conditioning', 'Mini Bar', 'Safe', 'Jacuzzi', 'Room Service'],
                    available: true
                }
            ]
        };

        // Reducer function for state management
        function appReducer(state, action) {
            switch (action.type) {
                case 'LOGIN':
                    return {
                        ...state,
                        user: action.payload,
                        isAuthenticated: true
                    };
                case 'LOGOUT':
                    return {
                        ...state,
                        user: null,
                        isAuthenticated: false
                    };
                case 'SET_BOOKING':
                    return {
                        ...state,
                        bookingDetails: action.payload
                    };
                case 'CLEAR_BOOKING':
                    return {
                        ...state,
                        bookingDetails: null
                    };
                default:
                    return state;
            }
        }

        // Mock authentication function
        const mockAuth = {
            login: (email, password) => {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        if (email === 'demo@example.com' && password === 'password') {
                            resolve({ id: 1, name: 'Demo User', email });
                        } else {
                            reject(new Error('Invalid credentials'));
                        }
                    }, 1000);
                });
            },
            signup: (name, email, password) => {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        resolve({ id: Date.now(), name, email });
                    }, 1000);
                });
            }
        };

        // Main App Component
        function App() {
            const [state, dispatch] = useReducer(appReducer, initialState);
            const [isLoading, setIsLoading] = useState(false);

            // Check if user is logged in on initial load (from localStorage)
            useEffect(() => {
                const userData = localStorage.getItem('hotelUser');
                if (userData) {
                    dispatch({ type: 'LOGIN', payload: JSON.parse(userData) });
                }
            }, []);

            // Context value to be provided to components
            const contextValue = {
                state,
                dispatch,
                actions: {
                    login: async (email, password) => {
                        setIsLoading(true);
                        try {
                            const user = await mockAuth.login(email, password);
                            dispatch({ type: 'LOGIN', payload: user });
                            localStorage.setItem('hotelUser', JSON.stringify(user));
                            setIsLoading(false);
                            return { success: true };
                        } catch (error) {
                            setIsLoading(false);
                            return { success: false, error: error.message };
                        }
                    },
                    signup: async (name, email, password) => {
                        setIsLoading(true);
                        try {
                            const user = await mockAuth.signup(name, email, password);
                            dispatch({ type: 'LOGIN', payload: user });
                            localStorage.setItem('hotelUser', JSON.stringify(user));
                            setIsLoading(false);
                            return { success: true };
                        } catch (error) {
                            setIsLoading(false);
                            return { success: false, error: error.message };
                        }
                    },
                    logout: () => {
                        dispatch({ type: 'LOGOUT' });
                        localStorage.removeItem('hotelUser');
                    },
                    setBooking: (booking) => {
                        dispatch({ type: 'SET_BOOKING', payload: booking });
                    },
                    clearBooking: () => {
                        dispatch({ type: 'CLEAR_BOOKING' });
                    }
                }
            };

            return (
                <AppContext.Provider value={contextValue}>
                    <BrowserRouter>
                        <div className="min-h-screen flex flex-col">
                            <Navigation />
                            <main className="flex-grow">
                                {isLoading && (
                                    <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                                        <div className="bg-white p-6 rounded-lg shadow-xl flex items-center">
                                            <div className="animate-spin rounded-full h-6 w-6 border-b-2 border-primary mr-3"></div>
                                            <span>Processing...</span>
                                        </div>
                                    </div>
                                )}
                                <Routes>
                                    <Route path="/" element={<HomePage />} />
                                    <Route path="/login" element={<LoginPage />} />
                                    <Route path="/signup" element={<SignupPage />} />
                                    <Route path="/rooms" element={<RoomsPage />} />
                                    <Route path="/booking" element={<BookingPage />} />
                                </Routes>
                            </main>
                            <Footer />
                        </div>
                    </BrowserRouter>
                </AppContext.Provider>
            );
        }

        // Navigation Component
        function Navigation() {
            const { state, actions } = useContext(AppContext);
            const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
            const navigate = useNavigate();

            const handleLogout = () => {
                actions.logout();
                navigate('/');
            };

            return (
                <nav className="bg-dark text-white shadow-lg">
                    <div className="container mx-auto px-4">
                        <div className="flex justify-between items-center py-4">
                            <Link to="/" className="text-2xl font-bold text-primary flex items-center">
                                <Home className="mr-2" size={28} />
                                LuxuryStay
                            </Link>

                            {/* Desktop Navigation */}
                            <div className="hidden md:flex items-center space-x-8">
                                <Link to="/" className="hover:text-primary transition-colors">Home</Link>
                                <Link to="/rooms" className="hover:text-primary transition-colors">Rooms</Link>
                                {state.isAuthenticated ? (
                                    <div className="flex items-center space-x-4">
                                        <span>Hello, {state.user.name}</span>
                                        <button 
                                            onClick={handleLogout}
                                            className="bg-secondary hover:bg-orange-700 px-4 py-2 rounded transition-colors"
                                        >
                                            Logout
                                        </button>
                                    </div>
                                ) : (
                                    <div className="flex items-center space-x-4">
                                        <Link to="/login" className="hover:text-primary transition-colors">Login</Link>
                                        <Link to="/signup" className="bg-primary hover:bg-sky-600 px-4 py-2 rounded transition-colors">Sign Up</Link>
                                    </div>
                                )}
                            </div>

                            {/* Mobile Menu Button */}
                            <button 
                                className="md:hidden"
                                onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}
                            >
                                {isMobileMenuOpen ? <X size={24} /> : <Menu size={24} />}
                            </button>
                        </div>

                        {/* Mobile Navigation */}
                        {isMobileMenuOpen && (
                            <div className="md:hidden py-4 border-t border-gray-700 animate-slide-up">
                                <div className="flex flex-col space-y-4">
                                    <Link to="/" className="hover:text-primary transition-colors" onClick={() => setIsMobileMenuOpen(false)}>Home</Link>
                                    <Link to="/rooms" className="hover:text-primary transition-colors" onClick={() => setIsMobileMenuOpen(false)}>Rooms</Link>
                                    {state.isAuthenticated ? (
                                        <>
                                            <span>Hello, {state.user.name}</span>
                                            <button 
                                                onClick={() => {
                                                    handleLogout();
                                                    setIsMobileMenuOpen(false);
                                                }}
                                                className="bg-secondary hover:bg-orange-700 px-4 py-2 rounded transition-colors text-left"
                                            >
                                                Logout
                                            </button>
                                        </>
                                    ) : (
                                        <>
                                            <Link to="/login" className="hover:text-primary transition-colors" onClick={() => setIsMobileMenuOpen(false)}>Login</Link>
                                            <Link to="/signup" className="bg-primary hover:bg-sky-600 px-4 py-2 rounded transition-colors text-center" onClick={() => setIsMobileMenuOpen(false)}>Sign Up</Link>
                                        </>
                                    )}
                                </div>
                            </div>
                        )}
                    </div>
                </nav>
            );
        }

        // Home Page Component
        function HomePage() {
            const navigate = useNavigate();

            return (
                <div className="page-transition">
                    {/* Hero Section */}
                    <section className="hero-bg text-white py-20 md:py-32">
                        <div className="container mx-auto px-4 text-center">
                            <h1 className="text-4xl md:text-6xl font-bold mb-6 animate-fade-in">Experience Luxury Comfort</h1>
                            <p className="text-xl md:text-2xl mb-10 max-w-2xl mx-auto animate-fade-in">
                                Book your stay at our premium hotel and enjoy world-class amenities and service.
                            </p>
                            <button 
                                onClick={() => navigate('/rooms')}
                                className="bg-primary hover:bg-sky-600 text-white font-bold py-3 px-8 rounded-lg text-lg transition-all transform hover:scale-105 animate-slide-up"
                            >
                                Check Availability
                            </button>
                        </div>
                    </section>

                    {/* Features Section */}
                    <section className="py-16 bg-white">
                        <div className="container mx-auto px-4">
                            <h2 className="text-3xl font-bold text-center mb-12">Why Choose Us</h2>
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                                <div className="text-center p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow">
                                    <div className="flex justify-center mb-4">
                                        <Bed size={48} className="text-primary" />
                                    </div>
                                    <h3 className="text-xl font-semibold mb-2">Luxurious Rooms</h3>
                                    <p className="text-gray-600">Elegantly designed rooms with premium amenities for your comfort.</p>
                                </div>
                                <div className="text-center p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow">
                                    <div className="flex justify-center mb-4">
                                        <Calendar size={48} className="text-primary" />
                                    </div>
                                    <h3 className="text-xl font-semibold mb-2">Easy Booking</h3>
                                    <p className="text-gray-600">Simple and fast reservation process with instant confirmation.</p>
                                </div>
                                <div className="text-center p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow">
                                    <div className="flex justify-center mb-4">
                                        <User size={48} className="text-primary" />
                                    </div>
                                    <h3 className="text-xl font-semibold mb-2">24/7 Support</h3>
                                    <p className="text-gray-600">Our dedicated team is always available to assist you.</p>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            );
        }

        // Login Page Component
        function LoginPage() {
            const { actions } = useContext(AppContext);
            const navigate = useNavigate();
            const [formData, setFormData] = useState({ email: '', password: '' });
            const [errors, setErrors] = useState({});
            const [submitError, setSubmitError] = useState('');

            const handleChange = (e) => {
                const { name, value } = e.target;
                setFormData(prev => ({ ...prev, [name]: value }));
                // Clear error when user starts typing
                if (errors[name]) {
                    setErrors(prev => ({ ...prev, [name]: '' }));
                }
            };

            const validateForm = () => {
                const newErrors = {};
                
                if (!formData.email) {
                    newErrors.email = 'Email is required';
                } else if (!isEmail(formData.email)) {
                    newErrors.email = 'Please enter a valid email';
                }
                
                if (!formData.password) {
                    newErrors.password = 'Password is required';
                } else if (!isLength(formData.password, { min: 6 })) {
                    newErrors.password = 'Password must be at least 6 characters';
                }
                
                setErrors(newErrors);
                return Object.keys(newErrors).length === 0;
            };

            const handleSubmit = async (e) => {
                e.preventDefault();
                setSubmitError('');
                
                if (!validateForm()) return;
                
                const result = await actions.login(formData.email, formData.password);
                
                if (result.success) {
                    navigate('/rooms');
                } else {
                    setSubmitError(result.error);
                }
            };

            return (
                <div className="page-transition py-12 bg-gray-50 min-h-screen flex items-center">
                    <div className="container mx-auto px-4 max-w-md">
                        <div className="bg-white p-8 rounded-lg shadow-md">
                            <h1 className="text-3xl font-bold text-center mb-6">Login</h1>
                            {submitError && (
                                <div className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
                                    {submitError}
                                </div>
                            )}
                            <form onSubmit={handleSubmit}>
                                <div className="mb-4">
                                    <label className="block text-gray-700 mb-2" htmlFor="email">
                                        Email
                                    </label>
                                    <input
                                        id="email"
                                        name="email"
                                        type="email"
                                        value={formData.email}
                                        onChange={handleChange}
                                        className={`w-full px-4 py-2 border rounded-lg input-field ${errors.email ? 'border-red-500' : 'border-gray-300'}`}
                                        placeholder="Your email address"
                                    />
                                    {errors.email && <p className="text-red-500 text-sm mt-1">{errors.email}</p>}
                                </div>
                                <div className="mb-6">
                                    <label className="block text-gray-700 mb-2" htmlFor="password">
                                        Password
                                    </label>
                                    <input
                                        id="password"
                                        name="password"
                                        type="password"
                                        value={formData.password}
                                        onChange={handleChange}
                                        className={`w-full px-4 py-2 border rounded-lg input-field ${errors.password ? 'border-red-500' : 'border-gray-300'}`}
                                        placeholder="Your password"
                                    />
                                    {errors.password && <p className="text-red-500 text-sm mt-1">{errors.password}</p>}
                                </div>
                                <button
                                    type="submit"
                                    className="w-full bg-primary hover:bg-sky-600 text-white font-bold py-3 px-4 rounded-lg transition-colors"
                                >
                                    Login
                                </button>
                            </form>
                            <p className="text-center mt-6">
                                Don't have an account?{' '}
                                <Link to="/signup" className="text-primary hover:underline">
                                    Sign up
                                </Link>
                            </p>
                        </div>
                    </div>
                </div>
            );
        }

        // Signup Page Component
        function SignupPage() {
            const { actions } = useContext(AppContext);
            const navigate = useNavigate();
            const [formData, setFormData] = useState({ name: '', email: '', password: '', confirmPassword: '' });
            const [errors, setErrors] = useState({});
            const [submitError, setSubmitError] = useState('');

            const handleChange = (e) => {
                const { name, value } = e.target;
                setFormData(prev => ({ ...prev, [name]: value }));
                // Clear error when user starts typing
                if (errors[name]) {
                    setErrors(prev => ({ ...prev, [name]: '' }));
                }
            };

            const validateForm = () => {
                const newErrors = {};
                
                if (!formData.name) {
                    newErrors.name = 'Name is required';
                }
                
                if (!formData.email) {
                    newErrors.email = 'Email is required';
                } else if (!isEmail(formData.email)) {
                    newErrors.email = 'Please enter a valid email';
                }
                
                if (!formData.password) {
                    newErrors.password = 'Password is required';
                } else if (!isLength(formData.password, { min: 6 })) {
                    newErrors.password = 'Password must be at least 6 characters';
                }
                
                if (formData.password !== formData.confirmPassword) {
                    newErrors.confirmPassword = 'Passwords do not match';
                }
                
                setErrors(newErrors);
                return Object.keys(newErrors).length === 0;
            };

            const handleSubmit = async (e) => {
                e.preventDefault();
                setSubmitError('');
                
                if (!validateForm()) return;
                
                const result = await actions.signup(formData.name, formData.email, formData.password);
                
                if (result.success) {
                    navigate('/rooms');
                } else {
                    setSubmitError(result.error);
                }
            };

            return (
                <div className="page-transition py-12 bg-gray-50 min-h-screen flex items-center">
                    <div className="container mx-auto px-4 max-w-md">
                        <div className="bg-white p-8 rounded-lg shadow-md">
                            <h1 className="text-3xl font-bold text-center mb-6">Create Account</h1>
                            {submitError && (
                                <div className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
                                    {submitError}
                                </div>
                            )}
                            <form onSubmit={handleSubmit}>
                                <div className="mb-4">
                                    <label className="block text-gray-700 mb-2" htmlFor="name">
                                        Full Name
                                    </label>
                                    <input
                                        id="name"
                                        name="name"
                                        type="text"
                                        value={formData.name}
                                        onChange={handleChange}
                                        className={`w-full px-4 py-2 border rounded-lg input-field ${errors.name ? 'border-red-500' : 'border-gray-300'}`}
                                        placeholder="Your full name"
                                    />
                                    {errors.name && <p className="text-red-500 text-sm mt-1">{errors.name}</p>}
                                </div>
                                <div className="mb-4">
                                    <label className="block text-gray-700 mb-2" htmlFor="email">
                                        Email
                                    </label>
                                    <input
                                        id="email"
                                        name="email"
                                        type="email"
                                        value={formData.email}
                                        onChange={handleChange}
                                        className={`w-full px-4 py-2 border rounded-lg input-field ${errors.email ? 'border-red-500' : 'border-gray-300'}`}
                                        placeholder="Your email address"
                                    />
                                    {errors.email && <p className="text-red-500 text-sm mt-1">{errors.email}</p>}
                                </div>
                                <div className="mb-4">
                                    <label className="block text-gray-700 mb-2" htmlFor="password">
                                        Password
                                    </label>
                                    <input
                                        id="password"
                                        name="password"
                                        type="password"
                                        value={formData.password}
                                        onChange={handleChange}
                                        className={`w-full px-4 py-2 border rounded-lg input-field ${errors.password ? 'border-red-500' : 'border-gray-300'}`}
                                        placeholder="Create a password"
                                    />
                                    {errors.password && <p className="text-red-500 text-sm mt-1">{errors.password}</p>}
                                </div>
                                <div className="mb-6">
                                    <label className="block text-gray-700 mb-2" htmlFor="confirmPassword">
                                        Confirm Password
                                    </label>
                                    <input
                                        id="confirmPassword"
                                        name="confirmPassword"
                                        type="password"
                                        value={formData.confirmPassword}
                                        onChange={handleChange}
                                        className={`w-full px-4 py-2 border rounded-lg input-field ${errors.confirmPassword ? 'border-red-500' : 'border-gray-300'}`}
                                        placeholder="Confirm your password"
                                    />
                                    {errors.confirmPassword && <p className="text-red-500 text-sm mt-1">{errors.confirmPassword}</p>}
                                </div>
                                <button
                                    type="submit"
                                    className="w-full bg-primary hover:bg-sky-600 text-white font-bold py-3 px-4 rounded-lg transition-colors"
                                >
                                    Sign Up
                                </button>
                            </form>
                            <p className="text-center mt-6">
                                Already have an account?{' '}
                                <Link to="/login" className="text-primary hover:underline">
                                    Login
                                </Link>
                            </p>
                        </div>
                    </div>
                </div>
            );
        }

        // Rooms Page Component
        function RoomsPage() {
            const { state } = useContext(AppContext);
            const navigate = useNavigate();

            // Redirect to login if not authenticated
            useEffect(() => {
                if (!state.isAuthenticated) {
                    navigate('/login');
                }
            }, [state.isAuthenticated, navigate]);

            if (!state.isAuthenticated) {
                return null;
            }

            return (
                <div className="page-transition py-12 bg-gray-50">
                    <div className="container mx-auto px-4">
                        <h1 className="text-3xl font-bold text-center mb-2">Our Rooms</h1>
                        <p className="text-gray-600 text-center mb-12">Choose from our selection of luxurious rooms</p>
                        
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                            {state.rooms.map(room => (
                                <div key={room.id} className="room-card bg-white rounded-lg overflow-hidden shadow-md">
                                    <img 
                                        src={room.image} 
                                        alt={room.type} 
                                        className="w-full h-48 object-cover"
                                    />
                                    <div className="p-6">
                                        <div className="flex justify-between items-start mb-4">
                                            <h3 className="text-xl font-bold">{room.type}</h3>
                                            <span className="text-2xl font-bold text-primary">${room.price}<span className="text-sm font-normal">/night</span></span>
                                        </div>
                                        <p className="text-gray-600 mb-4">{room.description}</p>
                                        
                                        <div className="mb-6">
                                            <h4 className="font-semibold mb-2">Amenities:</h4>
                                            <ul className="grid grid-cols-2 gap-2">
                                                {room.amenities.map((amenity, index) => (
                                                    <li key={index} className="flex items-center">
                                                        <span className="w-2 h-2 bg-primary rounded-full mr-2"></span>
                                                        <span className="text-sm">{amenity}</span>
                                                    </li>
                                                ))}
                                            </ul>
                                        </div>
                                        
                                        <div className="flex justify-between items-center">
                                            <span className={`flex items-center ${room.available ? 'text-green-600' : 'text-red-600'}`}>
                                                <span className={`w-3 h-3 rounded-full mr-2 ${room.available ? 'bg-green-600' : 'bg-red-600'}`}></span>
                                                {room.available ? 'Available' : 'Unavailable'}
                                            </span>
                                            <button 
                                                onClick={() => navigate('/booking', { state: { room } })}
                                                disabled={!room.available}
                                                className={`px-4 py-2 rounded-lg transition-colors ${room.available ? 'bg-primary hover:bg-sky-600 text-white' : 'bg-gray-300 text-gray-500 cursor-not-allowed'}`}
                                            >
                                                Book Now
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        }

        // Booking Page Component
        function BookingPage() {
            const { state, actions } = useContext(AppContext);
            const navigate = useNavigate();
            const location = ReactRouterDOM.useLocation();
            const room = location.state?.room;
            
            const [formData, setFormData] = useState({
                checkIn: format(addDays(new Date(), 1), 'yyyy-MM-dd'),
                checkOut: format(addDays(new Date(), 3), 'yyyy-MM-dd'),
                guests: 1
            });
            const [errors, setErrors] = useState({});
            
            // Redirect if no room selected or not authenticated
            useEffect(() => {
                if (!state.isAuthenticated) {
                    navigate('/login');
                } else if (!room) {
                    navigate('/rooms');
                }
            }, [state.isAuthenticated, room, navigate]);

            if (!state.isAuthenticated || !room) {
                return null;
            }

            const handleChange = (e) => {
                const { name, value } = e.target;
                setFormData(prev => ({ ...prev, [name]: value }));
                
                // Clear error when user changes value
                if (errors[name]) {
                    setErrors(prev => ({ ...prev, [name]: '' }));
                }
            };

            const validateForm = () => {
                const newErrors = {};
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                
                const checkInDate = parseISO(formData.checkIn);
                const checkOutDate = parseISO(formData.checkOut);
                
                if (!formData.checkIn) {
                    newErrors.checkIn = 'Check-in date is required';
                } else if (isBefore(checkInDate, today)) {
                    newErrors.checkIn = 'Check-in date cannot be in the past';
                }
                
                if (!formData.checkOut) {
                    newErrors.checkOut = 'Check-out date is required';
                } else if (!isAfter(checkOutDate, checkInDate)) {
                    newErrors.checkOut = 'Check-out date must be after check-in date';
                }
                
                if (formData.guests < 1) {
                    newErrors.guests = 'At least 1 guest is required';
                } else if (room.type === 'Single Room' && formData.guests > 1) {
                    newErrors.guests = 'Single room can accommodate only 1 guest';
                } else if (room.type === 'Double Room' && formData.guests > 3) {
                    newErrors.guests = 'Double room can accommodate maximum 3 guests';
                }
                
                setErrors(newErrors);
                return Object.keys(newErrors).length === 0;
            };

            const calculateNights = () => {
                const checkIn = parseISO(formData.checkIn);
                const checkOut = parseISO(formData.checkOut);
                const diffTime = Math.abs(checkOut - checkIn);
                return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            };

            const calculateTotal = () => {
                const nights = calculateNights();
                return nights * room.price;
            };

            const handleSubmit = (e) => {
                e.preventDefault();
                
                if (!validateForm()) return;
                
                const booking = {
                    room,
                    checkIn: formData.checkIn,
                    checkOut: formData.checkOut,
                    guests: formData.guests,
                    nights: calculateNights(),
                    total: calculateTotal()
                };
                
                actions.setBooking(booking);
                alert('Booking confirmed! Thank you for your reservation.');
                navigate('/');
            };

            return (
                <div className="page-transition py-12 bg-gray-50 min-h-screen">
                    <div className="container mx-auto px-4 max-w-4xl">
                        <h1 className="text-3xl font-bold text-center mb-2">Complete Your Booking</h1>
                        <p className="text-gray-600 text-center mb-12">Confirm your reservation details</p>
                        
                        <div className="bg-white rounded-lg shadow-md overflow-hidden">
                            <div className="p-6 border-b">
                                <h2 className="text-2xl font-bold text-primary mb-2">{room.type}</h2>
                                <p className="text-gray-600">{room.description}</p>
                            </div>
                            
                            <form onSubmit={handleSubmit} className="p-6">
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                                    <div>
                                        <label className="block text-gray-700 mb-2" htmlFor="checkIn">
                                            Check-in Date
                                        </label>
                                        <input
                                            id="checkIn"
                                            name="checkIn"
                                            type="date"
                                            value={formData.checkIn}
                                            onChange={handleChange}
                                            min={format(new Date(), 'yyyy-MM-dd')}
                                            className={`w-full px-4 py-2 border rounded-lg input-field ${errors.checkIn ? 'border-red-500' : 'border-gray-300'}`}
                                        />
                                        {errors.checkIn && <p className="text-red-500 text-sm mt-1">{errors.checkIn}</p>}
                                    </div>
                                    
                                    <div>
                                        <label className="block text-gray-700 mb-2" htmlFor="checkOut">
                                            Check-out Date
                                        </label>
                                        <input
                                            id="checkOut"
                                            name="checkOut"
                                            type="date"
                                            value={formData.checkOut}
                                            onChange={handleChange}
                                            min={formData.checkIn}
                                            className={`w-full px-4 py-2 border rounded-lg input-field ${errors.checkOut ? 'border-red-500' : 'border-gray-300'}`}
                                        />
                                        {errors.checkOut && <p className="text-red-500 text-sm mt-1">{errors.checkOut}</p>}
                                    </div>
                                    
                                    <div>
                                        <label className="block text-gray-700 mb-2" htmlFor="guests">
                                            Number of Guests
                                        </label>
                                        <input
                                            id="guests"
                                            name="guests"
                                            type="number"
                                            value={formData.guests}
                                            onChange={handleChange}
                                            min="1"
                                            max={room.type === 'Single Room' ? 1 : room.type === 'Double Room' ? 3 : 4}
                                            className={`w-full px-4 py-2 border rounded-lg input-field ${errors.guests ? 'border-red-500' : 'border-gray-300'}`}
                                        />
                                        {errors.guests && <p className="text-red-500 text-sm mt-1">{errors.guests}</p>}
                                    </div>
                                </div>
                                
                                <div className="bg-gray-100 p-6 rounded-lg mb-6">
                                    <h3 className="font-semibold text-lg mb-4">Booking Summary</h3>
                                    <div className="flex justify-between mb-2">
                                        <span>Room Price (per night)</span>
                                        <span>${room.price}</span>
                                    </div>
                                    <div className="flex justify-between mb-2">
                                        <span>Number of Nights</span>
                                        <span>{calculateNights()}</span>
                                    </div>
                                    <div className="flex justify-between font-bold text-lg pt-4 border-t border-gray-300">
                                        <span>Total</span>
                                        <span>${calculateTotal()}</span>
                                    </div>
                                </div>
                                
                                <button
                                    type="submit"
                                    className="w-full bg-primary hover:bg-sky-600 text-white font-bold py-3 px-4 rounded-lg transition-colors"
                                >
                                    Confirm Reservation
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            );
        }

        // Footer Component
        function Footer() {
            return (
                <footer className="bg-dark text-white py-12">
                    <div className="container mx-auto px-4">
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                            <div>
                                <h3 className="text-xl font-bold mb-4 flex items-center">
                                    <Home className="mr-2" size={24} />
                                    LuxuryStay
                                </h3>
                                <p className="text-gray-400">
                                    Experience luxury and comfort at our premium hotel. Book your stay today and create unforgettable memories.
                                </p>
                            </div>
                            
                            <div>
                                <h3 className="text-xl font-bold mb-4">Contact Us</h3>
                                <ul className="space-y-2">
                                    <li className="flex items-center">
                                        <Phone size={18} className="mr-2" />
                                        <span className="text-gray-400">+1 (555) 123-4567</span>
                                    </li>
                                    <li className="flex items-center">
                                        <Mail size={18} className="mr-2" />
                                        <span className="text-gray-400">info@luxurystay.com</span>
                                    </li>
                                </ul>
                            </div>
                            
                            <div>
                                <h3 className="text-xl font-bold mb-4">Follow Us</h3>
                                <div className="flex space-x-4">
                                    <a href="#" className="text-gray-400 hover:text-white transition-colors">
                                        <Facebook size={24} />
                                    </a>
                                    <a href="#" className="text-gray-400 hover:text-white transition-colors">
                                        <Twitter size={24} />
                                    </a>
                                    <a href="#" className="text-gray-400 hover:text-white transition-colors">
                                        <Instagram size={24} />
                                    </a>
                                </div>
                            </div>
                        </div>
                        
                        <div className="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                            <p>&copy; {new Date().getFullYear()} LuxuryStay Hotels. All rights reserved.</p>
                        </div>
                    </div>
                </footer>
            );
        }

        // Render the App
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>